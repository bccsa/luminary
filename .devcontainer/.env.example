# =============================================================================
# Luminary Development Environment Variables
# =============================================================================
# Copy this file to .env and fill in the Auth0 values.
# Database and storage values work out of the box with Docker.

# -----------------------------------------------------------------------------
# Database (CouchDB) - Auto-configured by Docker
# -----------------------------------------------------------------------------
DB_CONNECTION_STRING=http://admin:password@couchdb:5984
DB_DATABASE=luminary-local

# -----------------------------------------------------------------------------
# Storage (MinIO/S3) - Auto-configured by Docker
# -----------------------------------------------------------------------------
S3_ENDPOINT=minio
S3_PORT=9000
S3_USE_SSL=false
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_IMG_BUCKET=luminary

# -----------------------------------------------------------------------------
# Frontend URLs - Auto-configured by Docker
# -----------------------------------------------------------------------------
VITE_API_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Auth0 Configuration - REQUIRED: Fill in from your Auth0 tenant
# -----------------------------------------------------------------------------
# See docker-setup.md for how to set up Auth0

# Your Auth0 tenant domain (e.g., your-tenant.us.auth0.com)
VITE_AUTH0_DOMAIN=

# API audience identifier from Auth0 > APIs
VITE_AUTH0_AUDIENCE=

# Client ID from Auth0 > Applications > Your App
VITE_AUTH0_CLIENT_ID=

# JWT Secret: Get from Auth0 > Applications > Your App > Settings > 
#             Advanced Settings > Certificates > Download Certificate (PEM)
JWT_SECRET=""

# -----------------------------------------------------------------------------
# JWT Mappings - Configure based on your Auth0 Action
# -----------------------------------------------------------------------------
# These functions extract user data from the Auth0 JWT token.
# The metadata namespace must match your Auth0 Action configuration.
#
# For development with the example Auth0 Action (see docker-setup.md):
JWT_MAPPINGS='{
    "groups": {
        "group-super-admins": "(jwt) => true"
    },
    "userId": "(jwt) => jwt && jwt[\"https://your-app.com/metadata\"].userId",
    "email": "(jwt) => jwt && jwt[\"https://your-app.com/metadata\"].email",
    "name": "(jwt) => jwt && jwt[\"https://your-app.com/metadata\"].username"
}'

# -----------------------------------------------------------------------------
# Optional Settings
# -----------------------------------------------------------------------------
# Encryption key for sensitive data (generate a 32-byte random string)
# ENCRYPTION_KEY=your-32-byte-encryption-key-here

# Image quality for processed uploads (0-100)
# S3_IMG_QUALITY=80
