# =============================================================================
# Luminary Development Environment Variables
# =============================================================================
# Copy this file to .env and fill in the Auth0 values.
# Database and storage values work out of the box with Docker.

# -----------------------------------------------------------------------------
# Database (CouchDB) - Auto-configured by Docker
# -----------------------------------------------------------------------------
DB_CONNECTION_STRING=http://admin:password@couchdb:5984
DB_DATABASE=luminary-local

# -----------------------------------------------------------------------------
# Storage (MinIO/S3) - Auto-configured by Docker
# -----------------------------------------------------------------------------
S3_ENDPOINT=minio
S3_PORT=9000
S3_USE_SSL=false
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_IMG_BUCKET=luminary
S3_PUBLIC_ACCESS_URL=http://localhost:9000/luminary

# -----------------------------------------------------------------------------
# Frontend URLs - Auto-configured by Docker
# -----------------------------------------------------------------------------
VITE_API_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# Port for the API server to listen on (default: 3000)
# PORT=3000

# Permission map configuration (JSON string mapping permissions to functions)
# PERMISSION_MAP=

# Maximum HTTP buffer size for uploads in bytes (default: 10000000 = 10MB)
# MAX_HTTP_BUFFER_SIZE=10000000

# Maximum database connection sockets (default: 512)
# DB_MAX_SOCKETS=512

# Bypass template validation (development only, never use in production!)
# BYPASS_TEMPLATE_VALIDATION=false

# Encryption key for sensitive data (generate a 32-byte random string)
# ENCRYPTION_KEY=your-32-byte-encryption-key-here

# -----------------------------------------------------------------------------
# Auth0 Configuration - REQUIRED: Fill in from your Auth0 tenant
# -----------------------------------------------------------------------------
# See docker-setup.md for how to set up Auth0

# Your Auth0 tenant domain (e.g., your-tenant.us.auth0.com)
VITE_AUTH0_DOMAIN=dev-pj7msmtubcpvrpof.us.auth0.com

# API audience identifier from Auth0 > APIs
VITE_AUTH0_AUDIENCE=https://luminary-development-api

# Client ID from Auth0 > Applications > Your App
VITE_AUTH0_CLIENT_ID=QyarLiBSTVmHBwlUuOx2py9HPSUifl67

# JWT Secret: Get from Auth0 > Applications > Your App > Settings > 
#             Advanced Settings > Certificates > Download Certificate (PEM)
JWT_SECRET="-----BEGIN CERTIFICATE-----
MIIDHTCCAgWgAwIBAgIJHt6G73030vftMA0GCSqGSIb3DQEBCwUAMCwxKjAoBgNV
BAMTIWRldi1wajdtc210dWJjcHZycG9mLnVzLmF1dGgwLmNvbTAeFw0yNTAzMDgw
NTUyMDVaFw0zODExMTUwNTUyMDVaMCwxKjAoBgNVBAMTIWRldi1wajdtc210dWJj
cHZycG9mLnVzLmF1dGgwLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
ggEBAJ6VIvf4VGEw16oO7APppkd/XDgYYlq83UvzfDjqMsks9RmVSSlcDLGnfvo8
V0lZMPVgj3M/wO1g8uwbyIlgUw1quzuBgaM1Ds2KMjw/1Ozye3nkgpNPXshWxN00
NJasxKdqSeCluvraFrSvzx7s0tvUBe903p6WDeAAAmM0y80qVFSQXXVzSGYwozYq
SJ+atjBUY/J70cN5fFpd9mPpDa2rmqcJq6WrlKsJo2clnXRaxq+/kd541WkJF6Ta
sO71gt5B71HdZlbnBxFE615+DIbZb9nSSuN+dkcdSdbZP+L8qLX/fW6kol11O6bV
EGqCNqnUVoZWZTzJ+4ttrSEMmLsCAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAd
BgNVHQ4EFgQUXdaBabVemvXm9O+Z8+S4qb/NKTUwDgYDVR0PAQH/BAQDAgKEMA0G
CSqGSIb3DQEBCwUAA4IBAQAvRiukYJo249urz76HvnfNjcN3jat1NEaulY1IQghn
r2kzYZWXCqT/+IQP4nDc5FzpjB/HZOFR9VfxQYuMlDLGqijs0qTI2g5As/K2Aw0O
9lJ/8k/wM2TD4osk/CUHxlV8yUBVbbXA0Wm8Y3l2Y4GtKDUwPZzWhqevj/SdvLyN
JNYWwbzPzrMEb1Lgsikwjn5KA0QZ2cnK0qWXWhldLmWs7f5/tW8ppw/nOmxKZPIR
4gWAtPPvxiuqq0826Q5WgRHbJc/XluwPMAk2+FGcxdZCefb+DW0O81eYDclcaco8
LpilEDoW3B4nfm6Wh+qFucFQej96BMyIRsnm4U79YZZA
-----END CERTIFICATE-----"

# -----------------------------------------------------------------------------
# JWT Mappings - Configure based on your Auth0 Action
# -----------------------------------------------------------------------------
# These functions extract user data from the Auth0 JWT token.
# The metadata namespace must match your Auth0 Action configuration.
#
# For development with the example Auth0 Action (see docker-setup.md):
JWT_MAPPINGS='{
    "groups": {
        "group-super-admins": "(jwt) => true"
    },
    "userId": "(jwt) => jwt && jwt[\"https://luminary-dev.com/metadata\"].userId",
    "email": "(jwt) => jwt && jwt[\"https://luminary-dev.com/metadata\"].email",
    "name": "(jwt) => jwt && jwt[\"https://luminary-dev.com/metadata\"].username"
}'

# -----------------------------------------------------------------------------
# Optional Settings
# -----------------------------------------------------------------------------
# Encryption key for sensitive data (generate a 32-byte random string)
# ENCRYPTION_KEY=your-32-byte-encryption-key-here

# Image quality for processed uploads (0-100)
# S3_IMG_QUALITY=80

# -----------------------------------------------------------------------------
# Frontend Application (APP) Configuration
# -----------------------------------------------------------------------------
# Application name displayed to users
# VITE_APP_NAME=Luminary

# Logo URLs for the application
# VITE_LOGO=
# VITE_LOGO_SMALL=
# VITE_LOGO_DARK=
# VITE_LOGO_SMALL_DARK=
# VITE_LOGO_FAVICON=
# VITE_FAV_ICON=

# Content IDs for special pages
# VITE_COPYRIGHT_ID=
# VITE_PRIVACY_POLICY_ID=

# Feature flags
# VITE_HIDE_PRIVACY_POLICY=false
# VITE_HIDE_EXPLORE=false

# Analytics configuration (Matomo)
# VITE_ANALYTICS_HOST=
# VITE_ANALYTICS_SITEID=
# VITE_ALLOWED_MATOMO_SERVERS=[]
# VITE_MATOMO_SERVER=

# Error tracking (Sentry)
# VITE_SENTRY_DSN=

# Plugin configuration (JSON array of plugin paths)
# VITE_PLUGINS=[]

# -----------------------------------------------------------------------------
# Content Management System (CMS) Configuration
# -----------------------------------------------------------------------------
# Initial page to display in CMS after login
# VITE_INITIAL_PAGE=

# URL of the client-facing app
# VITE_CLIENT_APP_URL=http://localhost:8080
